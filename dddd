Pentru a transforma acest KQL Ã®ntr-un workbook interactiv Ã®n Azure Monitor sau Microsoft Sentinel, poÈ›i introduce parametri dinamici pentru un selector de interval de timp È™i un drop-down pentru filtrarea dupÄƒ serviciu AI. IatÄƒ cum sÄƒ faci asta:


---

ðŸ”§ 1. AdaugÄƒ parametrii Ã®n workbook

ðŸ“… Parametru pentru interval de timp (TimeRange):

let TimeRange = dynamic({ "name": "Time range", "type": "TimeRangePicker", "value": "P1D" });

ðŸ“‹ Parametru pentru selectare AI (AIFilter):

let AIFilter = dynamic({
    "name": "AI Service",
    "type": "DropDown",
    "values": ["General", "adcreative.ai", "canva.com", "chat.openai.com", "chatgpt.com", "claude.ai", 
               "deepai.org", "deepdreamgenerator.com", "designs.ai", "elevenlabs.io", "gamma.app",
               "gemini.google.com", "huggingface.co", "ideogram.ai", "invideo.io", "openart.ai",
               "perplexity.ai", "phind.com", "play.ht", "quillbot.com", "replicate.com",
               "runwayml.com", "stability.ai", "stablediffusionweb.com", "artbreeder.com",
               "vectorizer.ai", "voicemod.net", "audiogen.com", "pika.art", "synthesia.io",
               "heygen.com", "agentgpt.rework.ai", "auto-gpt.net", "notion.so", "jasper.ai",
               "copy.ai", "scite.ai", "elicit.org", "mistral.ai", "anthropic.com", "cohere.ai",
               "runpod.io", "scenario.com", "leonardo.ai", "pictory.ai", "fliki.ai", "descript.com",
               "replit.com", "sourcegraph.com", "codeium.com", "consensus.app", "scispace.com",
               "explainpaper.com", "mem.ai", "tome.app", "taskade.com", "browse.ai", "durable.co",
               "magickpen.com"],
    "value": "General"
});


---

ðŸ§  2. Refactorizarea interogÄƒrii KQL cu parametrii

let AIs = dynamic(["adcreative.ai", "canva.com", "chat.openai.com", "chatgpt.com", "claude.ai",
                   "deepai.org", "deepdreamgenerator.com", "designs.ai", "elevenlabs.io", "gamma.app",
                   "gemini.google.com", "huggingface.co", "ideogram.ai", "invideo.io", "openart.ai",
                   "perplexity.ai", "phind.com", "play.ht", "quillbot.com", "replicate.com",
                   "runwayml.com", "stability.ai", "stablediffusionweb.com", "artbreeder.com",
                   "vectorizer.ai", "voicemod.net", "audiogen.com", "pika.art", "synthesia.io",
                   "heygen.com", "agentgpt.rework.ai", "auto-gpt.net", "notion.so", "jasper.ai",
                   "copy.ai", "scite.ai", "elicit.org", "mistral.ai", "anthropic.com", "cohere.ai",
                   "runpod.io", "scenario.com", "leonardo.ai", "pictory.ai", "fliki.ai", "descript.com",
                   "replit.com", "sourcegraph.com", "codeium.com", "consensus.app", "scispace.com",
                   "explainpaper.com", "mem.ai", "tome.app", "taskade.com", "browse.ai", "durable.co",
                   "magickpen.com"]);

DeviceNetworkEvents
| where Timestamp between (startofday(ago(1d)) .. now()) // acesta va fi Ã®nlocuit automat de TimeRange picker
| where RemoteUrl has_any (AIs)
| where AIFilter == "General" or RemoteUrl has AIFilter
| project Timestamp, DeviceName, InitiatingProcessFileName, RemoteUrl, ReportId
| order by Timestamp desc


---

âœ… Rezultat

Acum vei avea un workbook cu:

Selector de interval orar pentru a alege perioada analizatÄƒ.

Drop-down din care poÈ›i alege "General" (vede tot) sau un AI specific (vede doar cine l-a accesat).


DacÄƒ vrei, Ã®È›i pot genera È™i JSON-ul complet al unui workbook cu aceÈ™ti parametri integraÈ›i, gata de import Ã®n Azure. Vrei asta?

